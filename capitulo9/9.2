#include <stdio.h>

/* Archivos y caracteres.
El programa lee caracteres de un archivo. */
int main(void)
{
    char p1;
    FILE *ar;

    if ((ar = fopen("arc.txt", "r")) != NULL) /* Se abre el archivo para lectura. */
    {
        /* Observa que las dos instrucciones del programa 9.1 necesarias para abrir un
           archivo y verificar que éste en realidad se haya abierto, se pueden agrupar
           en una sola instrucción. */
        while ((p1 = fgetc(ar)) != EOF) /* Se lee el caracter del archivo y se compara con EOF para detectar el fin del archivo. */
        {
            putchar(p1); /* Despliega el caracter en la pantalla. */
        }

        fclose(ar);
    }
    else
    {
        printf("No se puede abrir el archivo\n");
        return 1; /* Devolver un valor distinto de cero indica un error en la ejecución. */
    }

    return 0; /* Indicar que el programa finalizó correctamente. */
}
